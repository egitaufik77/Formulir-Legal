{"ast":null,"code":"import React,{useState,useEffect}from'react';import axios from\"axios\";import{Link}from'react-router-dom';import'../components/Userlist.css';// Tambahkan CSS eksternal untuk styling tambahan\nimport{jsx as _jsx,jsxs as _jsxs}from\"react/jsx-runtime\";const Userlist=()=>{const[legal,setUsers]=useState([]);const[searchTerm,setSearchTerm]=useState(\"\");const[currentPage,setCurrentPage]=useState(1);const[usersPerPage]=useState(5);useEffect(()=>{getUsers();},[]);const getUsers=async()=>{const response=await axios.get('http://localhost:5001/legal');setUsers(response.data);};const deleteUser=async id=>{try{await axios.delete(`http://localhost:5001/legal/${id}`);getUsers();}catch(error){console.log(error);}};const filteredUsers=legal.filter(user=>user.Nama_Dokumen.toLowerCase().includes(searchTerm.toLowerCase())||user.Keterangan.toLowerCase().includes(searchTerm.toLowerCase()));const indexOfLastUser=currentPage*usersPerPage;const indexOfFirstUser=indexOfLastUser-usersPerPage;const currentUsers=filteredUsers.slice(indexOfFirstUser,indexOfLastUser);const paginate=pageNumber=>setCurrentPage(pageNumber);const pageNumbers=[];for(let i=1;i<=Math.ceil(filteredUsers.length/usersPerPage);i++){pageNumbers.push(i);}return/*#__PURE__*/_jsx(\"div\",{className:\"columns mt-5 is-centered\",children:/*#__PURE__*/_jsx(\"div\",{className:\"column is-three-quarters\",children:/*#__PURE__*/_jsxs(\"div\",{className:\"card\",children:[/*#__PURE__*/_jsxs(\"header\",{className:\"card-header\",children:[/*#__PURE__*/_jsx(\"p\",{className:\"card-header-title\",children:\"Daftar Dokumen Legal\"}),/*#__PURE__*/_jsx(\"div\",{className:\"card-header-item\",children:/*#__PURE__*/_jsx(Link,{to:'add',className:\"button is-success\",children:\"Tambah Baru\"})})]}),/*#__PURE__*/_jsxs(\"div\",{className:\"card-content\",children:[/*#__PURE__*/_jsx(\"div\",{className:\"field is-grouped is-align-items-center mb-4\",children:/*#__PURE__*/_jsxs(\"p\",{className:\"control is-expanded has-icons-left\",children:[/*#__PURE__*/_jsx(\"input\",{type:\"text\",className:\"input\",placeholder:\"Cari Nama Dokumen atau Keterangan\",value:searchTerm,onChange:e=>{setSearchTerm(e.target.value);setCurrentPage(1);}}),/*#__PURE__*/_jsx(\"span\",{className:\"icon is-left\",children:/*#__PURE__*/_jsx(\"i\",{className:\"fas fa-search\"})})]})}),/*#__PURE__*/_jsxs(\"table\",{className:\"table is-striped is-fullwidth\",children:[/*#__PURE__*/_jsx(\"thead\",{children:/*#__PURE__*/_jsxs(\"tr\",{children:[/*#__PURE__*/_jsx(\"th\",{children:\"No\"}),/*#__PURE__*/_jsx(\"th\",{children:\"Nama Dokumen\"}),/*#__PURE__*/_jsx(\"th\",{children:\"Nomor Surat\"}),/*#__PURE__*/_jsx(\"th\",{children:\"Departement\"}),/*#__PURE__*/_jsx(\"th\",{children:\"Tanggal Terbit\"}),/*#__PURE__*/_jsx(\"th\",{children:\"Tanggal Exp\"}),/*#__PURE__*/_jsx(\"th\",{children:\"Site\"}),/*#__PURE__*/_jsx(\"th\",{children:\"Link\"}),/*#__PURE__*/_jsx(\"th\",{children:\"Keterangan\"}),/*#__PURE__*/_jsx(\"th\",{children:\"Aksi\"})]})}),/*#__PURE__*/_jsx(\"tbody\",{children:currentUsers.length>0?currentUsers.map((legal,index)=>/*#__PURE__*/_jsxs(\"tr\",{children:[/*#__PURE__*/_jsx(\"td\",{children:index+1+(currentPage-1)*usersPerPage}),/*#__PURE__*/_jsx(\"td\",{children:legal.Nama_Dokumen}),/*#__PURE__*/_jsx(\"td\",{children:legal.Nomor_Surat}),/*#__PURE__*/_jsx(\"td\",{children:legal.Departement}),/*#__PURE__*/_jsx(\"td\",{children:legal.Tanggal_Terbit}),/*#__PURE__*/_jsx(\"td\",{children:legal.Tanggal_Exp}),/*#__PURE__*/_jsx(\"td\",{children:legal.Site}),/*#__PURE__*/_jsx(\"td\",{className:\"truncate\",children:legal.Link}),\" \",/*#__PURE__*/_jsx(\"td\",{children:legal.Keterangan}),/*#__PURE__*/_jsx(\"td\",{children:/*#__PURE__*/_jsxs(\"div\",{className:\"buttons\",children:[/*#__PURE__*/_jsx(Link,{to:`edit/${legal.id}`,className:\"button is-small is-info\",children:\"Edit\"}),/*#__PURE__*/_jsx(\"button\",{onClick:()=>deleteUser(legal.id),className:\"button is-small is-danger\",children:\"Hapus\"})]})})]},legal.id)):/*#__PURE__*/_jsx(\"tr\",{children:/*#__PURE__*/_jsx(\"td\",{colSpan:\"9\",className:\"has-text-centered\",children:\"Tidak ada data untuk ditampilkan.\"})})})]}),/*#__PURE__*/_jsx(\"nav\",{className:\"pagination\",role:\"navigation\",\"aria-label\":\"pagination\",children:/*#__PURE__*/_jsx(\"ul\",{className:\"pagination-list\",children:pageNumbers.map(number=>/*#__PURE__*/_jsx(\"li\",{children:/*#__PURE__*/_jsx(\"button\",{className:`pagination-link ${currentPage===number?'is-current':''}`,onClick:()=>paginate(number),children:number})},number))})})]})]})})});};export default Userlist;","map":{"version":3,"names":["React","useState","useEffect","axios","Link","jsx","_jsx","jsxs","_jsxs","Userlist","legal","setUsers","searchTerm","setSearchTerm","currentPage","setCurrentPage","usersPerPage","getUsers","response","get","data","deleteUser","id","delete","error","console","log","filteredUsers","filter","user","Nama_Dokumen","toLowerCase","includes","Keterangan","indexOfLastUser","indexOfFirstUser","currentUsers","slice","paginate","pageNumber","pageNumbers","i","Math","ceil","length","push","className","children","to","type","placeholder","value","onChange","e","target","map","index","Nomor_Surat","Departement","Tanggal_Terbit","Tanggal_Exp","Site","onClick","colSpan","role","number"],"sources":["D:/form_legal/frontend/src/components/Userlist.js"],"sourcesContent":["import React, { useState, useEffect } from 'react';\r\nimport axios from \"axios\";\r\nimport { Link } from 'react-router-dom';\r\nimport '../components/Userlist.css'; // Tambahkan CSS eksternal untuk styling tambahan\r\n\r\nconst Userlist = () => {\r\n  const [legal, setUsers] = useState([]);\r\n  const [searchTerm, setSearchTerm] = useState(\"\");\r\n  const [currentPage, setCurrentPage] = useState(1);\r\n  const [usersPerPage] = useState(5);\r\n\r\n  useEffect(() => {\r\n    getUsers();\r\n  }, []);\r\n\r\n  const getUsers = async () => {\r\n    const response = await axios.get('http://localhost:5001/legal');\r\n    setUsers(response.data);\r\n  }\r\n\r\n  const deleteUser = async (id) => {\r\n    try {\r\n      await axios.delete(`http://localhost:5001/legal/${id}`);\r\n      getUsers();\r\n    } catch (error) {\r\n      console.log(error);\r\n    }\r\n  }\r\n\r\n  const filteredUsers = legal.filter(user =>\r\n    user.Nama_Dokumen.toLowerCase().includes(searchTerm.toLowerCase()) ||\r\n    user.Keterangan.toLowerCase().includes(searchTerm.toLowerCase())\r\n  );\r\n\r\n  const indexOfLastUser = currentPage * usersPerPage;\r\n  const indexOfFirstUser = indexOfLastUser - usersPerPage;\r\n  const currentUsers = filteredUsers.slice(indexOfFirstUser, indexOfLastUser);\r\n\r\n  const paginate = (pageNumber) => setCurrentPage(pageNumber);\r\n\r\n  const pageNumbers = [];\r\n  for (let i = 1; i <= Math.ceil(filteredUsers.length / usersPerPage); i++) {\r\n    pageNumbers.push(i);\r\n  }\r\n\r\n  return (\r\n    <div className=\"columns mt-5 is-centered\">\r\n      <div className=\"column is-three-quarters\">\r\n        <div className=\"card\">\r\n          <header className=\"card-header\">\r\n            <p className=\"card-header-title\">Daftar Dokumen Legal</p>\r\n            <div className=\"card-header-item\">\r\n              <Link to={'add'} className='button is-success'>Tambah Baru</Link>\r\n            </div>\r\n          </header>\r\n\r\n          <div className=\"card-content\">\r\n            <div className=\"field is-grouped is-align-items-center mb-4\">\r\n              <p className=\"control is-expanded has-icons-left\">\r\n                <input\r\n                  type=\"text\"\r\n                  className=\"input\"\r\n                  placeholder=\"Cari Nama Dokumen atau Keterangan\"\r\n                  value={searchTerm}\r\n                  onChange={(e) => {\r\n                    setSearchTerm(e.target.value);\r\n                    setCurrentPage(1);\r\n                  }}\r\n                />\r\n                <span className=\"icon is-left\">\r\n                  <i className=\"fas fa-search\"></i>\r\n                </span>\r\n              </p>\r\n            </div>\r\n\r\n            <table className='table is-striped is-fullwidth'>\r\n              <thead>\r\n                <tr>\r\n                  <th>No</th>\r\n                  <th>Nama Dokumen</th>\r\n                  <th>Nomor Surat</th>\r\n                  <th>Departement</th>\r\n                  <th>Tanggal Terbit</th>\r\n                  <th>Tanggal Exp</th>\r\n                  <th>Site</th>\r\n                  <th>Link</th>\r\n                  <th>Keterangan</th>\r\n                  <th>Aksi</th>\r\n                </tr>\r\n              </thead>\r\n              <tbody>\r\n                {currentUsers.length > 0 ? (\r\n                  currentUsers.map((legal, index) => (\r\n                    <tr key={legal.id}>\r\n                      <td>{index + 1 + (currentPage - 1) * usersPerPage}</td>\r\n                      <td>{legal.Nama_Dokumen}</td>\r\n                      <td>{legal.Nomor_Surat}</td>\r\n                      <td>{legal.Departement}</td>\r\n                      <td>{legal.Tanggal_Terbit}</td>\r\n                      <td>{legal.Tanggal_Exp}</td>\r\n                      <td>{legal.Site}</td>\r\n                      <td className=\"truncate\">{legal.Link}</td> {/* Apply CSS class */}\r\n                      <td>{legal.Keterangan}</td>\r\n                      <td>\r\n                        <div className=\"buttons\">\r\n                          <Link to={`edit/${legal.id}`} className=\"button is-small is-info\">Edit</Link>\r\n                          <button onClick={() => deleteUser(legal.id)} className=\"button is-small is-danger\">Hapus</button>\r\n                        </div>\r\n                      </td>\r\n                    </tr>\r\n                  ))\r\n                ) : (\r\n                  <tr>\r\n                    <td colSpan=\"9\" className=\"has-text-centered\">Tidak ada data untuk ditampilkan.</td>\r\n                  </tr>\r\n                )}\r\n              </tbody>\r\n            </table>\r\n\r\n            <nav className=\"pagination\" role=\"navigation\" aria-label=\"pagination\">\r\n              <ul className=\"pagination-list\">\r\n                {pageNumbers.map(number => (\r\n                  <li key={number}>\r\n                    <button\r\n                      className={`pagination-link ${currentPage === number ? 'is-current' : ''}`}\r\n                      onClick={() => paginate(number)}\r\n                    >\r\n                      {number}\r\n                    </button>\r\n                  </li>\r\n                ))}\r\n              </ul>\r\n            </nav>\r\n          </div>\r\n        </div>\r\n      </div>\r\n    </div>\r\n  );\r\n}\r\n\r\nexport default Userlist;\r\n"],"mappings":"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","ignoreList":[]},"metadata":{},"sourceType":"module","externalDependencies":[]}