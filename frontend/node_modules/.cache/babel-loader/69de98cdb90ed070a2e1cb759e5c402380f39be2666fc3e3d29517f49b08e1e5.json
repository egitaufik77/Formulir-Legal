{"ast":null,"code":"import React,{useState,useEffect,useCallback}from'react';import axios from\"axios\";import{useNavigate,useParams}from'react-router-dom';import{jsx as _jsx,jsxs as _jsxs}from\"react/jsx-runtime\";const EditUser=()=>{const[Nama_Dokumen,setDokumen]=useState(\"\");const[Nomor_Surat,setSurat]=useState(\"\");const[Tanggal_Terbit,setTerbit]=useState(\"\");const[Tanggal_Exp,setExp]=useState(\"\");const[Site,setSite]=useState(\"\");const[Link,setLink]=useState(\"\");const[Keterangan,setKeterangan]=useState(\"\");const navigate=useNavigate();const{id}=useParams();// Gunakan useCallback untuk membuat fungsi getById stabil\nconst getById=useCallback(async()=>{const response=await axios.get(`http://localhost:5001/legal/${id}`);setDokumen(response.data.Nama_Dokumen);setSurat(response.data.Nomor_Surat);setTerbit(response.data.Tanggal_Terbit);setExp(response.data.Tanggal_Exp||\"\");setSite(response.data.Site);setLink(response.data.Link);setKeterangan(response.data.Keterangan);},[id]);useEffect(()=>{getById();},[getById]);const updateUser=async e=>{e.preventDefault();try{await axios.patch(`http://localhost:5001/legal/${id}`,{Nama_Dokumen,Nomor_Surat,Tanggal_Terbit,Tanggal_Exp:Tanggal_Exp||null,Site,Link,Keterangan});navigate(\"/\");}catch(error){console.log(error);}};return/*#__PURE__*/_jsx(\"div\",{className:\"columns mt-5 is-centered\",children:/*#__PURE__*/_jsx(\"div\",{className:\"column is-half\",children:/*#__PURE__*/_jsxs(\"form\",{onSubmit:updateUser,children:[/*#__PURE__*/_jsxs(\"div\",{className:\"field\",children:[/*#__PURE__*/_jsx(\"label\",{className:\"label\",children:\"Nama Dokumen\"}),/*#__PURE__*/_jsx(\"div\",{className:\"control\",children:/*#__PURE__*/_jsx(\"input\",{type:\"text\",className:\"input\",value:Nama_Dokumen,onChange:e=>setDokumen(e.target.value),placeholder:\"Nama Dokumen\"})})]}),/*#__PURE__*/_jsxs(\"div\",{className:\"field\",children:[/*#__PURE__*/_jsx(\"label\",{className:\"label\",children:\"Nomor Surat\"}),/*#__PURE__*/_jsx(\"div\",{className:\"control\",children:/*#__PURE__*/_jsx(\"input\",{type:\"text\",className:\"input\",value:Nomor_Surat,onChange:e=>setSurat(e.target.value),placeholder:\"Nomor Surat\"})})]}),/*#__PURE__*/_jsxs(\"div\",{className:\"field\",children:[/*#__PURE__*/_jsx(\"label\",{className:\"label\",children:\"Tanggal Terbit\"}),/*#__PURE__*/_jsx(\"div\",{className:\"control\",children:/*#__PURE__*/_jsx(\"input\",{type:\"date\",className:\"input\",value:Tanggal_Terbit,onChange:e=>setTerbit(e.target.value),placeholder:\"Tanggal Terbit\"})})]}),/*#__PURE__*/_jsxs(\"div\",{className:\"field\",children:[/*#__PURE__*/_jsx(\"label\",{className:\"label\",children:\"Tanggal Exp\"}),/*#__PURE__*/_jsx(\"div\",{className:\"control\",children:/*#__PURE__*/_jsx(\"input\",{type:\"date\",className:\"input\",value:Tanggal_Exp,onChange:e=>setExp(e.target.value),placeholder:\"Tanggal Exp\"})})]}),/*#__PURE__*/_jsxs(\"div\",{className:\"field\",children:[/*#__PURE__*/_jsx(\"label\",{className:\"label\",children:\"Site\"}),/*#__PURE__*/_jsx(\"div\",{className:\"control\",children:/*#__PURE__*/_jsx(\"div\",{className:\"select is-fullwidth\",children:/*#__PURE__*/_jsxs(\"select\",{value:Site,onChange:e=>setSite(e.target.value),children:[/*#__PURE__*/_jsx(\"option\",{value:\"UMST\",children:\"UMST\"}),/*#__PURE__*/_jsx(\"option\",{value:\"UMSB\",children:\"UMSB\"}),/*#__PURE__*/_jsx(\"option\",{value:\"UMCC\",children:\"UMCC\"})]})})})]}),/*#__PURE__*/_jsxs(\"div\",{className:\"field\",children:[/*#__PURE__*/_jsx(\"label\",{className:\"label\",children:\"Link\"}),/*#__PURE__*/_jsx(\"div\",{className:\"control\",children:/*#__PURE__*/_jsx(\"input\",{type:\"text\",className:\"input\",value:Link,onChange:e=>setLink(e.target.value),placeholder:\"Link\"})})]}),/*#__PURE__*/_jsxs(\"div\",{className:\"field\",children:[/*#__PURE__*/_jsx(\"label\",{className:\"label\",children:\"Keterangan\"}),/*#__PURE__*/_jsx(\"div\",{className:\"control\",children:/*#__PURE__*/_jsx(\"input\",{type:\"text\",className:\"input\",value:Keterangan,onChange:e=>setKeterangan(e.target.value),placeholder:\"Keterangan\"})})]}),/*#__PURE__*/_jsxs(\"div\",{className:\"field\",children:[/*#__PURE__*/_jsx(\"button\",{type:\"submit\",className:\"button is-success\",children:\"Update\"}),/*#__PURE__*/_jsx(\"button\",{type:\"button\",className:\"button is-light ml-4\",onClick:()=>navigate(-1),children:\"Kembali\"})]})]})})});};export default EditUser;","map":{"version":3,"names":["React","useState","useEffect","useCallback","axios","useNavigate","useParams","jsx","_jsx","jsxs","_jsxs","EditUser","Nama_Dokumen","setDokumen","Nomor_Surat","setSurat","Tanggal_Terbit","setTerbit","Tanggal_Exp","setExp","Site","setSite","Link","setLink","Keterangan","setKeterangan","navigate","id","getById","response","get","data","updateUser","e","preventDefault","patch","error","console","log","className","children","onSubmit","type","value","onChange","target","placeholder","onClick"],"sources":["D:/form_legal/frontend/src/components/EditUser.js"],"sourcesContent":["import React, { useState, useEffect, useCallback } from 'react';\r\nimport axios from \"axios\";\r\nimport { useNavigate, useParams } from 'react-router-dom';\r\n\r\nconst EditUser = () => {\r\n    const [Nama_Dokumen, setDokumen] = useState(\"\");\r\n    const [Nomor_Surat, setSurat] = useState(\"\");\r\n    const [Tanggal_Terbit, setTerbit] = useState(\"\");\r\n    const [Tanggal_Exp, setExp] = useState(\"\");\r\n    const [Site, setSite] = useState(\"\");\r\n    const [Link, setLink] = useState(\"\");\r\n    const [Keterangan, setKeterangan] = useState(\"\");\r\n\r\n    const navigate = useNavigate();\r\n    const { id } = useParams();\r\n\r\n    // Gunakan useCallback untuk membuat fungsi getById stabil\r\n    const getById = useCallback(async () => {\r\n        const response = await axios.get(`http://localhost:5001/legal/${id}`);\r\n        setDokumen(response.data.Nama_Dokumen);\r\n        setSurat(response.data.Nomor_Surat);\r\n        setTerbit(response.data.Tanggal_Terbit);\r\n        setExp(response.data.Tanggal_Exp || \"\");\r\n        setSite(response.data.Site);\r\n        setLink(response.data.Link);\r\n        setKeterangan(response.data.Keterangan);\r\n    }, [id]);\r\n\r\n    useEffect(() => {\r\n        getById();\r\n    }, [getById]);\r\n\r\n    const updateUser = async (e) => {\r\n        e.preventDefault();\r\n        try {\r\n            await axios.patch(`http://localhost:5001/legal/${id}`, {\r\n                Nama_Dokumen,\r\n                Nomor_Surat,\r\n                Tanggal_Terbit,\r\n                Tanggal_Exp: Tanggal_Exp || null, \r\n                Site,\r\n                Link,\r\n                Keterangan\r\n            });\r\n            navigate(\"/\");\r\n        } catch (error) {\r\n            console.log(error);\r\n        }\r\n    };\r\n\r\n    return (\r\n        <div className=\"columns mt-5 is-centered\">\r\n            <div className=\"column is-half\">\r\n                <form onSubmit={updateUser}>\r\n                    <div className=\"field\">\r\n                        <label className=\"label\">Nama Dokumen</label>\r\n                        <div className=\"control\">\r\n                            <input type=\"text\" className=\"input\" value={Nama_Dokumen} onChange={(e) => setDokumen(e.target.value)} placeholder=\"Nama Dokumen\" />\r\n                        </div>\r\n                    </div>\r\n                    <div className=\"field\">\r\n                        <label className=\"label\">Nomor Surat</label>\r\n                        <div className=\"control\">\r\n                            <input type=\"text\" className=\"input\" value={Nomor_Surat} onChange={(e) => setSurat(e.target.value)} placeholder=\"Nomor Surat\" />\r\n                        </div>\r\n                    </div>\r\n                    <div className=\"field\">\r\n                        <label className=\"label\">Tanggal Terbit</label>\r\n                        <div className=\"control\">\r\n                            <input type=\"date\" className=\"input\" value={Tanggal_Terbit} onChange={(e) => setTerbit(e.target.value)} placeholder=\"Tanggal Terbit\" />\r\n                        </div>\r\n                    </div>\r\n                    <div className=\"field\">\r\n                        <label className=\"label\">Tanggal Exp</label>\r\n                        <div className=\"control\">\r\n                            <input type=\"date\" className=\"input\" value={Tanggal_Exp} onChange={(e) => setExp(e.target.value)} placeholder=\"Tanggal Exp\" />\r\n                        </div>\r\n                    </div>\r\n                    <div className=\"field\">\r\n                        <label className=\"label\">Site</label>\r\n                        <div className=\"control\">\r\n                            <div className=\"select is-fullwidth\">\r\n                                <select value={Site} onChange={(e) => setSite(e.target.value)}>\r\n                                    <option value=\"UMST\">UMST</option>\r\n                                    <option value=\"UMSB\">UMSB</option>\r\n                                    <option value=\"UMCC\">UMCC</option>\r\n                                </select>\r\n                            </div>\r\n                        </div>\r\n                    </div>\r\n                    <div className=\"field\">\r\n                        <label className=\"label\">Link</label>\r\n                        <div className=\"control\">\r\n                            <input type=\"text\" className=\"input\" value={Link} onChange={(e) => setLink(e.target.value)} placeholder=\"Link\" />\r\n                        </div>\r\n                    </div>\r\n                    <div className=\"field\">\r\n                        <label className=\"label\">Keterangan</label>\r\n                        <div className=\"control\">\r\n                            <input type=\"text\" className=\"input\" value={Keterangan} onChange={(e) => setKeterangan(e.target.value)} placeholder=\"Keterangan\" />\r\n                        </div>\r\n                    </div>\r\n                    <div className=\"field\">\r\n                        <button type=\"submit\" className=\"button is-success\">Update</button>\r\n                        <button type=\"button\" className=\"button is-light ml-4\" onClick={() => navigate(-1)}>Kembali</button>\r\n                    </div>\r\n                </form>\r\n            </div>\r\n        </div>\r\n    );\r\n};\r\n\r\nexport default EditUser;\r\n"],"mappings":"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","ignoreList":[]},"metadata":{},"sourceType":"module","externalDependencies":[]}